<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<meta name="google-site-verification" content="aB8LkQegj94_TJPdrcJm2ldIRWyXY82Jp24Gtkdgyn0" />
<title>vipy.data.imagenet API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}#lunr-search{width:100%;font-size:1em;padding:6px 9px 5px 9px;border:1px solid silver}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>vipy.data.imagenet</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L1-L141" class="git-link">Browse git</a>
</summary>
<pre><code class="python">import os
import vipy
from vipy.util import readcsv, remkdir, filepath, islist, filetail, filebase, filefull
from vipy.image import ImageDetection, ImageCategory
import xml.etree.ElementTree as ET


IMAGENET_21K_RESIZED_URL = &#39;https://image-net.org/data/imagenet21k_resized.tar.gz&#39;
URLS_2012 = [&#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_bbox_val_v3.tgz&#39;
             &#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_img_train.tar&#39;,
             &#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_img_val.tar&#39;,
             &#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_bbox_train_v2.tar.gz&#39;,
             &#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_img_train_t3.tar&#39;,
             &#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_bbox_train_dogs.tar.gz&#39;,
             &#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_devkit_t12.tar.gz&#39;,
             &#39;https://image-net.org/data/ILSVRC/2012/ILSVRC2012_bbox_val_v3.tgz&#39;]
URL_SYNSET = &#39;https://raw.githubusercontent.com/torch/tutorials/master/7_imagenet_classification/synset_words.txt&#39;

IMAGENET21K_URL = &#39;https://image-net.org/data/winter21_wholetar.gz&#39;
IMAGENET21K_WORDNET_ID = &#39;https://storage.googleapis.com/bit_models/imagenet21k_wordnet_ids.txt&#39;
IMAGENET21K_WORDNET_LEMMAS = &#39;https://storage.googleapis.com/bit_models/imagenet21k_wordnet_lemmas.txt&#39;


class Imagenet2012():
    &#34;&#34;&#34;By downloading, you agree to the ImageNet terms: https://image-net.org/download-images.php#term&#34;&#34;&#34;
    def __init__(self, datadir):
        self._datadir = remkdir(datadir)

        for url in URLS_2012:
            if not os.path.exists(os.path.join(datadir, vipy.util.filebase(url))):
                vipy.downloader.download(url, os.path.join(self._datadir, filetail(url)))
                vipy.downloader.unpack(os.path.join(self._datadir, filetail(url)), remkdir(os.path.join(self._datadir, filebase(url))))

        for f in vipy.util.findtar(os.path.join(self._datadir, &#39;ILSVRC2012_img_train&#39;)):
            if not os.path.exists(filefull(f)):
                vipy.downloader.unpack(f, filefull(f))

        for f in vipy.util.findtar(os.path.join(self._datadir, &#39;ILSVRC2012_img_train_v3&#39;)):
            if not os.path.exists(filefull(f)):
                vipy.downloader.unpack(f, filefull(f))
                
        if not os.path.exists(os.path.join(self._datadir, &#39;synset_words.txt&#39;)):
            vipy.downloader.download(URL_SYNSET, os.path.join(self._datadir, &#39;synset_words.txt&#39;))            
        self._synset_to_categorylist = {x.split(&#39; &#39;,1)[0]:[y.lstrip().rstrip() for y in x.split(&#39; &#39;, 1)[1].split(&#39;,&#39;)] for x in vipy.util.readtxt(os.path.join(self._datadir, &#39;synset_words.txt&#39;))}            

        
    def synset_to_category(self, s=None):
        return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]
    
    def classification_trainset(self):
        &#34;&#34;&#34;ImageNet Classification, trainset&#34;&#34;&#34;
        imgfiles = vipy.util.findimages(os.path.join(self._datadir, &#39;ILSVRC2012_img_train&#39;))
        imlist = [vipy.image.ImageCategory(filename=f, category=filetail(filepath(f))) for f in imgfiles]
        return vipy.dataset.Dataset(imlist, &#39;imagenet2012_classification_train&#39;)
        
    def classification_valset(self):
        imlist = []
        imgfiles = vipy.util.findimages(os.path.join(self._datadir, &#39;ILSVRC2012_img_val&#39;))

        # ground truth is imagenet synset index 1-1000, which is maped in the metadata
        gt = vipy.util.readtxt(os.path.join(self._datadir, &#39;ILSVRC2012_devkit_t12&#39;, &#39;ILSVRC2012_devkit_t12&#39;, &#39;data&#39;, &#39;ILSVRC2012_validation_ground_truth.txt&#39;))               
        for (f,y) in zip(sorted(imgfiles), gt):
            imlist.append(vipy.image.ImageCategory(filename=f, category=y))  
        return vipy.dataset.Dataset(imlist, &#39;imagenet2012_classification_val&#39;)
                
    def localization_trainset(self):
        &#34;&#34;&#34;ImageNet localization, imageset = {train, val}&#34;&#34;&#34;        
        imlist = []
        classification = self.classification_trainset()
        for im in classification:
            objects = []            
            xmlfile = &#39;%s.xml&#39; % filefull(im.filename().replace(&#39;ILSVRC2012_img_train&#39;, &#39;ILSVRC2012_bbox_train_v2&#39;))
            if os.path.exists(xmlfile):
                d = ET.parse(xmlfile).getroot()
                (name, xmin, ymin, xmax, ymax) = (d[5][0].text, d[5][4][0].text, d[5][4][1].text, d[5][4][2].text, d[5][4][3].text)
                objects = [vipy.object.Detection(category=name, xmin=int(xmin), ymin=int(ymin), xmax=int(xmax), ymax=int(ymax))]
            imlist.append(vipy.image.Scene(filename=im.filename(), category=im.category(), objects=objects))
                
        return vipy.dataset.Dataset(imlist, &#39;imagenet2012_localization_train&#39;)

    
                
class Imagenet21K_Resized(vipy.dataset.Dataset):
    &#34;&#34;&#34;https://image-net.org/download-images.php, imagenet-21K 2021 release (resized)&#34;&#34;&#34;
    def __init__(self, datadir, aslemma=True):
        self._datadir = vipy.util.remkdir(datadir)
        
        if not os.path.exists(os.path.join(datadir, &#39;imagenet21k_resized.tar.gz&#39;)):
            print(&#39;[vipy.data.imagenet]: downloading Imagenet-21K resized to &#34;%s&#34;&#39; % self._outdir)            
            vipy.downloader.download_and_unpack(IMAGENET_21K_RESIZED_URL, self._outdir, sha1=None)

        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_ID, os.path.join(self._datadir, &#39;wordnet_id.txt&#39;))
        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_LEMMAS, os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;))

        # https://github.com/google-research/big_transfer/issues/7
        self._synset_to_categorylist = {x:[y.rstrip().lstrip() for y in lemma.split(&#39;,&#39;)] for (x,lemma) in zip(vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)), vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)))}

        f_category = lambda c: self._synset_to_categorylist[c][0] if aslemma else c
        imlist = [vipy.image.ImageCategory(filename=f,
                                           attributes={&#39;wordnet_id&#39;:vipy.util.filebase(vipy.util.filepath(f))},
                                           category=f_category(vipy.util.filebase(vipy.util.filepath(f)))) for f in vipy.util.findimages(os.path.join(datadir, &#39;imagenet21k_resized&#39;))]
        super().__init__(imlist, id=&#39;imagenet21k&#39;)

    def synset_to_category(self, s=None):
        return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]
        

class Imagenet21K(vipy.dataset.Dataset):
    &#34;&#34;&#34;https://image-net.org/download-images.php, imagenet-21K 2021 winter release&#34;&#34;&#34;
    def __init__(self, datadir, aslemma=True):
        self._datadir = vipy.util.remkdir(datadir)
        
        if not os.path.exists(os.path.join(datadir, &#39;winter21_whole.tar.gz&#39;)):
            print(&#39;[vipy.data.imagenet]: downloading Imagenet-21K to &#34;%s&#34;&#39; % self._outdir)            
            vipy.downloader.download_and_unpack(IMAGENET21K_URL, self._outdir, sha1=None)

        for f in vipy.util.findtar(os.path.join(datadir, &#39;winter21_whole&#39;)):
            if not os.path.exists(filefull(f)):
                vipy.downloader.unpack(f, filefull(f))
                os.remove(f)  # cleanup
                
        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_ID, os.path.join(self._datadir, &#39;wordnet_id.txt&#39;))
        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_LEMMAS, os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;))

        # https://github.com/google-research/big_transfer/issues/7
        self._synset_to_categorylist = {x:[y.rstrip().lstrip() for y in lemma.split(&#39;,&#39;)] for (x,lemma) in zip(vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)), vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)))}

        f_category = lambda c: self._synset_to_categorylist[c][0] if aslemma else c
        imlist = [vipy.image.ImageCategory(filename=f,
                                           attributes={&#39;wordnet_id&#39;:vipy.util.filebase(vipy.util.filepath(f))},
                                           category=f_category(vipy.util.filebase(vipy.util.filepath(f)))) for f in vipy.util.findimages(os.path.join(datadir, &#39;winter21_whole&#39;))]
        super().__init__(imlist, id=&#39;imagenet21k&#39;)

    def synset_to_category(self, s=None):
        return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]
         
   </code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="vipy.data.imagenet.Imagenet2012"><code class="flex name class">
<span>class <span class="ident">Imagenet2012</span></span>
<span>(</span><span>datadir)</span>
</code></dt>
<dd>
<div class="desc"><p>By downloading, you agree to the ImageNet terms: <a href="https://image-net.org/download-images.php#term">https://image-net.org/download-images.php#term</a></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L24-L79" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Imagenet2012():
    &#34;&#34;&#34;By downloading, you agree to the ImageNet terms: https://image-net.org/download-images.php#term&#34;&#34;&#34;
    def __init__(self, datadir):
        self._datadir = remkdir(datadir)

        for url in URLS_2012:
            if not os.path.exists(os.path.join(datadir, vipy.util.filebase(url))):
                vipy.downloader.download(url, os.path.join(self._datadir, filetail(url)))
                vipy.downloader.unpack(os.path.join(self._datadir, filetail(url)), remkdir(os.path.join(self._datadir, filebase(url))))

        for f in vipy.util.findtar(os.path.join(self._datadir, &#39;ILSVRC2012_img_train&#39;)):
            if not os.path.exists(filefull(f)):
                vipy.downloader.unpack(f, filefull(f))

        for f in vipy.util.findtar(os.path.join(self._datadir, &#39;ILSVRC2012_img_train_v3&#39;)):
            if not os.path.exists(filefull(f)):
                vipy.downloader.unpack(f, filefull(f))
                
        if not os.path.exists(os.path.join(self._datadir, &#39;synset_words.txt&#39;)):
            vipy.downloader.download(URL_SYNSET, os.path.join(self._datadir, &#39;synset_words.txt&#39;))            
        self._synset_to_categorylist = {x.split(&#39; &#39;,1)[0]:[y.lstrip().rstrip() for y in x.split(&#39; &#39;, 1)[1].split(&#39;,&#39;)] for x in vipy.util.readtxt(os.path.join(self._datadir, &#39;synset_words.txt&#39;))}            

        
    def synset_to_category(self, s=None):
        return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]
    
    def classification_trainset(self):
        &#34;&#34;&#34;ImageNet Classification, trainset&#34;&#34;&#34;
        imgfiles = vipy.util.findimages(os.path.join(self._datadir, &#39;ILSVRC2012_img_train&#39;))
        imlist = [vipy.image.ImageCategory(filename=f, category=filetail(filepath(f))) for f in imgfiles]
        return vipy.dataset.Dataset(imlist, &#39;imagenet2012_classification_train&#39;)
        
    def classification_valset(self):
        imlist = []
        imgfiles = vipy.util.findimages(os.path.join(self._datadir, &#39;ILSVRC2012_img_val&#39;))

        # ground truth is imagenet synset index 1-1000, which is maped in the metadata
        gt = vipy.util.readtxt(os.path.join(self._datadir, &#39;ILSVRC2012_devkit_t12&#39;, &#39;ILSVRC2012_devkit_t12&#39;, &#39;data&#39;, &#39;ILSVRC2012_validation_ground_truth.txt&#39;))               
        for (f,y) in zip(sorted(imgfiles), gt):
            imlist.append(vipy.image.ImageCategory(filename=f, category=y))  
        return vipy.dataset.Dataset(imlist, &#39;imagenet2012_classification_val&#39;)
                
    def localization_trainset(self):
        &#34;&#34;&#34;ImageNet localization, imageset = {train, val}&#34;&#34;&#34;        
        imlist = []
        classification = self.classification_trainset()
        for im in classification:
            objects = []            
            xmlfile = &#39;%s.xml&#39; % filefull(im.filename().replace(&#39;ILSVRC2012_img_train&#39;, &#39;ILSVRC2012_bbox_train_v2&#39;))
            if os.path.exists(xmlfile):
                d = ET.parse(xmlfile).getroot()
                (name, xmin, ymin, xmax, ymax) = (d[5][0].text, d[5][4][0].text, d[5][4][1].text, d[5][4][2].text, d[5][4][3].text)
                objects = [vipy.object.Detection(category=name, xmin=int(xmin), ymin=int(ymin), xmax=int(xmax), ymax=int(ymax))]
            imlist.append(vipy.image.Scene(filename=im.filename(), category=im.category(), objects=objects))
                
        return vipy.dataset.Dataset(imlist, &#39;imagenet2012_localization_train&#39;)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="vipy.data.imagenet.Imagenet2012.classification_trainset"><code class="name flex">
<span>def <span class="ident">classification_trainset</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>ImageNet Classification, trainset</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L50-L54" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def classification_trainset(self):
    &#34;&#34;&#34;ImageNet Classification, trainset&#34;&#34;&#34;
    imgfiles = vipy.util.findimages(os.path.join(self._datadir, &#39;ILSVRC2012_img_train&#39;))
    imlist = [vipy.image.ImageCategory(filename=f, category=filetail(filepath(f))) for f in imgfiles]
    return vipy.dataset.Dataset(imlist, &#39;imagenet2012_classification_train&#39;)</code></pre>
</details>
</dd>
<dt id="vipy.data.imagenet.Imagenet2012.classification_valset"><code class="name flex">
<span>def <span class="ident">classification_valset</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L56-L64" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def classification_valset(self):
    imlist = []
    imgfiles = vipy.util.findimages(os.path.join(self._datadir, &#39;ILSVRC2012_img_val&#39;))

    # ground truth is imagenet synset index 1-1000, which is maped in the metadata
    gt = vipy.util.readtxt(os.path.join(self._datadir, &#39;ILSVRC2012_devkit_t12&#39;, &#39;ILSVRC2012_devkit_t12&#39;, &#39;data&#39;, &#39;ILSVRC2012_validation_ground_truth.txt&#39;))               
    for (f,y) in zip(sorted(imgfiles), gt):
        imlist.append(vipy.image.ImageCategory(filename=f, category=y))  
    return vipy.dataset.Dataset(imlist, &#39;imagenet2012_classification_val&#39;)</code></pre>
</details>
</dd>
<dt id="vipy.data.imagenet.Imagenet2012.localization_trainset"><code class="name flex">
<span>def <span class="ident">localization_trainset</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>ImageNet localization, imageset = {train, val}</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L66-L79" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def localization_trainset(self):
    &#34;&#34;&#34;ImageNet localization, imageset = {train, val}&#34;&#34;&#34;        
    imlist = []
    classification = self.classification_trainset()
    for im in classification:
        objects = []            
        xmlfile = &#39;%s.xml&#39; % filefull(im.filename().replace(&#39;ILSVRC2012_img_train&#39;, &#39;ILSVRC2012_bbox_train_v2&#39;))
        if os.path.exists(xmlfile):
            d = ET.parse(xmlfile).getroot()
            (name, xmin, ymin, xmax, ymax) = (d[5][0].text, d[5][4][0].text, d[5][4][1].text, d[5][4][2].text, d[5][4][3].text)
            objects = [vipy.object.Detection(category=name, xmin=int(xmin), ymin=int(ymin), xmax=int(xmax), ymax=int(ymax))]
        imlist.append(vipy.image.Scene(filename=im.filename(), category=im.category(), objects=objects))
            
    return vipy.dataset.Dataset(imlist, &#39;imagenet2012_localization_train&#39;)</code></pre>
</details>
</dd>
<dt id="vipy.data.imagenet.Imagenet2012.synset_to_category"><code class="name flex">
<span>def <span class="ident">synset_to_category</span></span>(<span>self, s=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L47-L48" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def synset_to_category(self, s=None):
    return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="vipy.data.imagenet.Imagenet21K"><code class="flex name class">
<span>class <span class="ident">Imagenet21K</span></span>
<span>(</span><span>datadir, aslemma=True)</span>
</code></dt>
<dd>
<div class="desc"><p><a href="https://image-net.org/download-images.php,">https://image-net.org/download-images.php,</a> imagenet-21K 2021 winter release</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L110-L139" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Imagenet21K(vipy.dataset.Dataset):
    &#34;&#34;&#34;https://image-net.org/download-images.php, imagenet-21K 2021 winter release&#34;&#34;&#34;
    def __init__(self, datadir, aslemma=True):
        self._datadir = vipy.util.remkdir(datadir)
        
        if not os.path.exists(os.path.join(datadir, &#39;winter21_whole.tar.gz&#39;)):
            print(&#39;[vipy.data.imagenet]: downloading Imagenet-21K to &#34;%s&#34;&#39; % self._outdir)            
            vipy.downloader.download_and_unpack(IMAGENET21K_URL, self._outdir, sha1=None)

        for f in vipy.util.findtar(os.path.join(datadir, &#39;winter21_whole&#39;)):
            if not os.path.exists(filefull(f)):
                vipy.downloader.unpack(f, filefull(f))
                os.remove(f)  # cleanup
                
        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_ID, os.path.join(self._datadir, &#39;wordnet_id.txt&#39;))
        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_LEMMAS, os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;))

        # https://github.com/google-research/big_transfer/issues/7
        self._synset_to_categorylist = {x:[y.rstrip().lstrip() for y in lemma.split(&#39;,&#39;)] for (x,lemma) in zip(vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)), vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)))}

        f_category = lambda c: self._synset_to_categorylist[c][0] if aslemma else c
        imlist = [vipy.image.ImageCategory(filename=f,
                                           attributes={&#39;wordnet_id&#39;:vipy.util.filebase(vipy.util.filepath(f))},
                                           category=f_category(vipy.util.filebase(vipy.util.filepath(f)))) for f in vipy.util.findimages(os.path.join(datadir, &#39;winter21_whole&#39;))]
        super().__init__(imlist, id=&#39;imagenet21k&#39;)

    def synset_to_category(self, s=None):
        return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="vipy.dataset.Dataset" href="../dataset.html#vipy.dataset.Dataset">Dataset</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="vipy.data.imagenet.Imagenet21K.synset_to_category"><code class="name flex">
<span>def <span class="ident">synset_to_category</span></span>(<span>self, s=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L138-L139" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def synset_to_category(self, s=None):
    return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vipy.dataset.Dataset" href="../dataset.html#vipy.dataset.Dataset">Dataset</a></b></code>:
<ul class="hlist">
<li><code><a title="vipy.dataset.Dataset.archive" href="../dataset.html#vipy.dataset.Dataset.archive">archive</a></code></li>
<li><code><a title="vipy.dataset.Dataset.categories" href="../dataset.html#vipy.dataset.Dataset.categories">categories</a></code></li>
<li><code><a title="vipy.dataset.Dataset.chunk" href="../dataset.html#vipy.dataset.Dataset.chunk">chunk</a></code></li>
<li><code><a title="vipy.dataset.Dataset.class_to_index" href="../dataset.html#vipy.dataset.Dataset.class_to_index">class_to_index</a></code></li>
<li><code><a title="vipy.dataset.Dataset.classes" href="../dataset.html#vipy.dataset.Dataset.classes">classes</a></code></li>
<li><code><a title="vipy.dataset.Dataset.classlist" href="../dataset.html#vipy.dataset.Dataset.classlist">classlist</a></code></li>
<li><code><a title="vipy.dataset.Dataset.clone" href="../dataset.html#vipy.dataset.Dataset.clone">clone</a></code></li>
<li><code><a title="vipy.dataset.Dataset.count" href="../dataset.html#vipy.dataset.Dataset.count">count</a></code></li>
<li><code><a title="vipy.dataset.Dataset.countby" href="../dataset.html#vipy.dataset.Dataset.countby">countby</a></code></li>
<li><code><a title="vipy.dataset.Dataset.density" href="../dataset.html#vipy.dataset.Dataset.density">density</a></code></li>
<li><code><a title="vipy.dataset.Dataset.duration_in_seconds" href="../dataset.html#vipy.dataset.Dataset.duration_in_seconds">duration_in_seconds</a></code></li>
<li><code><a title="vipy.dataset.Dataset.filter" href="../dataset.html#vipy.dataset.Dataset.filter">filter</a></code></li>
<li><code><a title="vipy.dataset.Dataset.flatten" href="../dataset.html#vipy.dataset.Dataset.flatten">flatten</a></code></li>
<li><code><a title="vipy.dataset.Dataset.id" href="../dataset.html#vipy.dataset.Dataset.id">id</a></code></li>
<li><code><a title="vipy.dataset.Dataset.index_to_class" href="../dataset.html#vipy.dataset.Dataset.index_to_class">index_to_class</a></code></li>
<li><code><a title="vipy.dataset.Dataset.inverse_frequency_weight" href="../dataset.html#vipy.dataset.Dataset.inverse_frequency_weight">inverse_frequency_weight</a></code></li>
<li><code><a title="vipy.dataset.Dataset.istype" href="../dataset.html#vipy.dataset.Dataset.istype">istype</a></code></li>
<li><code><a title="vipy.dataset.Dataset.jsondir" href="../dataset.html#vipy.dataset.Dataset.jsondir">jsondir</a></code></li>
<li><code><a title="vipy.dataset.Dataset.label_to_index" href="../dataset.html#vipy.dataset.Dataset.label_to_index">label_to_index</a></code></li>
<li><code><a title="vipy.dataset.Dataset.list" href="../dataset.html#vipy.dataset.Dataset.list">list</a></code></li>
<li><code><a title="vipy.dataset.Dataset.load" href="../dataset.html#vipy.dataset.Dataset.load">load</a></code></li>
<li><code><a title="vipy.dataset.Dataset.map" href="../dataset.html#vipy.dataset.Dataset.map">map</a></code></li>
<li><code><a title="vipy.dataset.Dataset.merge" href="../dataset.html#vipy.dataset.Dataset.merge">merge</a></code></li>
<li><code><a title="vipy.dataset.Dataset.minibatch" href="../dataset.html#vipy.dataset.Dataset.minibatch">minibatch</a></code></li>
<li><code><a title="vipy.dataset.Dataset.multilabel_inverse_frequency_weight" href="../dataset.html#vipy.dataset.Dataset.multilabel_inverse_frequency_weight">multilabel_inverse_frequency_weight</a></code></li>
<li><code><a title="vipy.dataset.Dataset.num_categories" href="../dataset.html#vipy.dataset.Dataset.num_categories">num_categories</a></code></li>
<li><code><a title="vipy.dataset.Dataset.num_classes" href="../dataset.html#vipy.dataset.Dataset.num_classes">num_classes</a></code></li>
<li><code><a title="vipy.dataset.Dataset.num_labels" href="../dataset.html#vipy.dataset.Dataset.num_labels">num_labels</a></code></li>
<li><code><a title="vipy.dataset.Dataset.percentage" href="../dataset.html#vipy.dataset.Dataset.percentage">percentage</a></code></li>
<li><code><a title="vipy.dataset.Dataset.replace" href="../dataset.html#vipy.dataset.Dataset.replace">replace</a></code></li>
<li><code><a title="vipy.dataset.Dataset.save" href="../dataset.html#vipy.dataset.Dataset.save">save</a></code></li>
<li><code><a title="vipy.dataset.Dataset.set" href="../dataset.html#vipy.dataset.Dataset.set">set</a></code></li>
<li><code><a title="vipy.dataset.Dataset.shuffle" href="../dataset.html#vipy.dataset.Dataset.shuffle">shuffle</a></code></li>
<li><code><a title="vipy.dataset.Dataset.shuffler" href="../dataset.html#vipy.dataset.Dataset.shuffler">shuffler</a></code></li>
<li><code><a title="vipy.dataset.Dataset.sort" href="../dataset.html#vipy.dataset.Dataset.sort">sort</a></code></li>
<li><code><a title="vipy.dataset.Dataset.split" href="../dataset.html#vipy.dataset.Dataset.split">split</a></code></li>
<li><code><a title="vipy.dataset.Dataset.split_by_videoid" href="../dataset.html#vipy.dataset.Dataset.split_by_videoid">split_by_videoid</a></code></li>
<li><code><a title="vipy.dataset.Dataset.synonym" href="../dataset.html#vipy.dataset.Dataset.synonym">synonym</a></code></li>
<li><code><a title="vipy.dataset.Dataset.take" href="../dataset.html#vipy.dataset.Dataset.take">take</a></code></li>
<li><code><a title="vipy.dataset.Dataset.take_per_category" href="../dataset.html#vipy.dataset.Dataset.take_per_category">take_per_category</a></code></li>
<li><code><a title="vipy.dataset.Dataset.takefilter" href="../dataset.html#vipy.dataset.Dataset.takefilter">takefilter</a></code></li>
<li><code><a title="vipy.dataset.Dataset.takelist" href="../dataset.html#vipy.dataset.Dataset.takelist">takelist</a></code></li>
<li><code><a title="vipy.dataset.Dataset.takeone" href="../dataset.html#vipy.dataset.Dataset.takeone">takeone</a></code></li>
<li><code><a title="vipy.dataset.Dataset.to_torch" href="../dataset.html#vipy.dataset.Dataset.to_torch">to_torch</a></code></li>
<li><code><a title="vipy.dataset.Dataset.to_torch_tensordir" href="../dataset.html#vipy.dataset.Dataset.to_torch_tensordir">to_torch_tensordir</a></code></li>
<li><code><a title="vipy.dataset.Dataset.tohtml" href="../dataset.html#vipy.dataset.Dataset.tohtml">tohtml</a></code></li>
<li><code><a title="vipy.dataset.Dataset.tojsondir" href="../dataset.html#vipy.dataset.Dataset.tojsondir">tojsondir</a></code></li>
<li><code><a title="vipy.dataset.Dataset.tolist" href="../dataset.html#vipy.dataset.Dataset.tolist">tolist</a></code></li>
<li><code><a title="vipy.dataset.Dataset.video_duration_in_seconds" href="../dataset.html#vipy.dataset.Dataset.video_duration_in_seconds">video_duration_in_seconds</a></code></li>
<li><code><a title="vipy.dataset.Dataset.video_montage" href="../dataset.html#vipy.dataset.Dataset.video_montage">video_montage</a></code></li>
<li><code><a title="vipy.dataset.Dataset.zip" href="../dataset.html#vipy.dataset.Dataset.zip">zip</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="vipy.data.imagenet.Imagenet21K_Resized"><code class="flex name class">
<span>class <span class="ident">Imagenet21K_Resized</span></span>
<span>(</span><span>datadir, aslemma=True)</span>
</code></dt>
<dd>
<div class="desc"><p><a href="https://image-net.org/download-images.php,">https://image-net.org/download-images.php,</a> imagenet-21K 2021 release (resized)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L83-L107" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Imagenet21K_Resized(vipy.dataset.Dataset):
    &#34;&#34;&#34;https://image-net.org/download-images.php, imagenet-21K 2021 release (resized)&#34;&#34;&#34;
    def __init__(self, datadir, aslemma=True):
        self._datadir = vipy.util.remkdir(datadir)
        
        if not os.path.exists(os.path.join(datadir, &#39;imagenet21k_resized.tar.gz&#39;)):
            print(&#39;[vipy.data.imagenet]: downloading Imagenet-21K resized to &#34;%s&#34;&#39; % self._outdir)            
            vipy.downloader.download_and_unpack(IMAGENET_21K_RESIZED_URL, self._outdir, sha1=None)

        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_ID, os.path.join(self._datadir, &#39;wordnet_id.txt&#39;))
        if not os.path.exists(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)):
            vipy.downloader.download(IMAGENET21K_WORDNET_LEMMAS, os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;))

        # https://github.com/google-research/big_transfer/issues/7
        self._synset_to_categorylist = {x:[y.rstrip().lstrip() for y in lemma.split(&#39;,&#39;)] for (x,lemma) in zip(vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_id.txt&#39;)), vipy.util.readtxt(os.path.join(self._datadir, &#39;wordnet_lemmas.txt&#39;)))}

        f_category = lambda c: self._synset_to_categorylist[c][0] if aslemma else c
        imlist = [vipy.image.ImageCategory(filename=f,
                                           attributes={&#39;wordnet_id&#39;:vipy.util.filebase(vipy.util.filepath(f))},
                                           category=f_category(vipy.util.filebase(vipy.util.filepath(f)))) for f in vipy.util.findimages(os.path.join(datadir, &#39;imagenet21k_resized&#39;))]
        super().__init__(imlist, id=&#39;imagenet21k&#39;)

    def synset_to_category(self, s=None):
        return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="vipy.dataset.Dataset" href="../dataset.html#vipy.dataset.Dataset">Dataset</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="vipy.data.imagenet.Imagenet21K_Resized.synset_to_category"><code class="name flex">
<span>def <span class="ident">synset_to_category</span></span>(<span>self, s=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/visym/vipy/blob/1085015ce080ed650f75533d9770b9f1e6622a3d/vipy/data/imagenet.py#L106-L107" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def synset_to_category(self, s=None):
    return self._synset_to_categorylist if s is None else self._synset_to_categorylist[s]</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="vipy.dataset.Dataset" href="../dataset.html#vipy.dataset.Dataset">Dataset</a></b></code>:
<ul class="hlist">
<li><code><a title="vipy.dataset.Dataset.archive" href="../dataset.html#vipy.dataset.Dataset.archive">archive</a></code></li>
<li><code><a title="vipy.dataset.Dataset.categories" href="../dataset.html#vipy.dataset.Dataset.categories">categories</a></code></li>
<li><code><a title="vipy.dataset.Dataset.chunk" href="../dataset.html#vipy.dataset.Dataset.chunk">chunk</a></code></li>
<li><code><a title="vipy.dataset.Dataset.class_to_index" href="../dataset.html#vipy.dataset.Dataset.class_to_index">class_to_index</a></code></li>
<li><code><a title="vipy.dataset.Dataset.classes" href="../dataset.html#vipy.dataset.Dataset.classes">classes</a></code></li>
<li><code><a title="vipy.dataset.Dataset.classlist" href="../dataset.html#vipy.dataset.Dataset.classlist">classlist</a></code></li>
<li><code><a title="vipy.dataset.Dataset.clone" href="../dataset.html#vipy.dataset.Dataset.clone">clone</a></code></li>
<li><code><a title="vipy.dataset.Dataset.count" href="../dataset.html#vipy.dataset.Dataset.count">count</a></code></li>
<li><code><a title="vipy.dataset.Dataset.countby" href="../dataset.html#vipy.dataset.Dataset.countby">countby</a></code></li>
<li><code><a title="vipy.dataset.Dataset.density" href="../dataset.html#vipy.dataset.Dataset.density">density</a></code></li>
<li><code><a title="vipy.dataset.Dataset.duration_in_seconds" href="../dataset.html#vipy.dataset.Dataset.duration_in_seconds">duration_in_seconds</a></code></li>
<li><code><a title="vipy.dataset.Dataset.filter" href="../dataset.html#vipy.dataset.Dataset.filter">filter</a></code></li>
<li><code><a title="vipy.dataset.Dataset.flatten" href="../dataset.html#vipy.dataset.Dataset.flatten">flatten</a></code></li>
<li><code><a title="vipy.dataset.Dataset.id" href="../dataset.html#vipy.dataset.Dataset.id">id</a></code></li>
<li><code><a title="vipy.dataset.Dataset.index_to_class" href="../dataset.html#vipy.dataset.Dataset.index_to_class">index_to_class</a></code></li>
<li><code><a title="vipy.dataset.Dataset.inverse_frequency_weight" href="../dataset.html#vipy.dataset.Dataset.inverse_frequency_weight">inverse_frequency_weight</a></code></li>
<li><code><a title="vipy.dataset.Dataset.istype" href="../dataset.html#vipy.dataset.Dataset.istype">istype</a></code></li>
<li><code><a title="vipy.dataset.Dataset.jsondir" href="../dataset.html#vipy.dataset.Dataset.jsondir">jsondir</a></code></li>
<li><code><a title="vipy.dataset.Dataset.label_to_index" href="../dataset.html#vipy.dataset.Dataset.label_to_index">label_to_index</a></code></li>
<li><code><a title="vipy.dataset.Dataset.list" href="../dataset.html#vipy.dataset.Dataset.list">list</a></code></li>
<li><code><a title="vipy.dataset.Dataset.load" href="../dataset.html#vipy.dataset.Dataset.load">load</a></code></li>
<li><code><a title="vipy.dataset.Dataset.map" href="../dataset.html#vipy.dataset.Dataset.map">map</a></code></li>
<li><code><a title="vipy.dataset.Dataset.merge" href="../dataset.html#vipy.dataset.Dataset.merge">merge</a></code></li>
<li><code><a title="vipy.dataset.Dataset.minibatch" href="../dataset.html#vipy.dataset.Dataset.minibatch">minibatch</a></code></li>
<li><code><a title="vipy.dataset.Dataset.multilabel_inverse_frequency_weight" href="../dataset.html#vipy.dataset.Dataset.multilabel_inverse_frequency_weight">multilabel_inverse_frequency_weight</a></code></li>
<li><code><a title="vipy.dataset.Dataset.num_categories" href="../dataset.html#vipy.dataset.Dataset.num_categories">num_categories</a></code></li>
<li><code><a title="vipy.dataset.Dataset.num_classes" href="../dataset.html#vipy.dataset.Dataset.num_classes">num_classes</a></code></li>
<li><code><a title="vipy.dataset.Dataset.num_labels" href="../dataset.html#vipy.dataset.Dataset.num_labels">num_labels</a></code></li>
<li><code><a title="vipy.dataset.Dataset.percentage" href="../dataset.html#vipy.dataset.Dataset.percentage">percentage</a></code></li>
<li><code><a title="vipy.dataset.Dataset.replace" href="../dataset.html#vipy.dataset.Dataset.replace">replace</a></code></li>
<li><code><a title="vipy.dataset.Dataset.save" href="../dataset.html#vipy.dataset.Dataset.save">save</a></code></li>
<li><code><a title="vipy.dataset.Dataset.set" href="../dataset.html#vipy.dataset.Dataset.set">set</a></code></li>
<li><code><a title="vipy.dataset.Dataset.shuffle" href="../dataset.html#vipy.dataset.Dataset.shuffle">shuffle</a></code></li>
<li><code><a title="vipy.dataset.Dataset.shuffler" href="../dataset.html#vipy.dataset.Dataset.shuffler">shuffler</a></code></li>
<li><code><a title="vipy.dataset.Dataset.sort" href="../dataset.html#vipy.dataset.Dataset.sort">sort</a></code></li>
<li><code><a title="vipy.dataset.Dataset.split" href="../dataset.html#vipy.dataset.Dataset.split">split</a></code></li>
<li><code><a title="vipy.dataset.Dataset.split_by_videoid" href="../dataset.html#vipy.dataset.Dataset.split_by_videoid">split_by_videoid</a></code></li>
<li><code><a title="vipy.dataset.Dataset.synonym" href="../dataset.html#vipy.dataset.Dataset.synonym">synonym</a></code></li>
<li><code><a title="vipy.dataset.Dataset.take" href="../dataset.html#vipy.dataset.Dataset.take">take</a></code></li>
<li><code><a title="vipy.dataset.Dataset.take_per_category" href="../dataset.html#vipy.dataset.Dataset.take_per_category">take_per_category</a></code></li>
<li><code><a title="vipy.dataset.Dataset.takefilter" href="../dataset.html#vipy.dataset.Dataset.takefilter">takefilter</a></code></li>
<li><code><a title="vipy.dataset.Dataset.takelist" href="../dataset.html#vipy.dataset.Dataset.takelist">takelist</a></code></li>
<li><code><a title="vipy.dataset.Dataset.takeone" href="../dataset.html#vipy.dataset.Dataset.takeone">takeone</a></code></li>
<li><code><a title="vipy.dataset.Dataset.to_torch" href="../dataset.html#vipy.dataset.Dataset.to_torch">to_torch</a></code></li>
<li><code><a title="vipy.dataset.Dataset.to_torch_tensordir" href="../dataset.html#vipy.dataset.Dataset.to_torch_tensordir">to_torch_tensordir</a></code></li>
<li><code><a title="vipy.dataset.Dataset.tohtml" href="../dataset.html#vipy.dataset.Dataset.tohtml">tohtml</a></code></li>
<li><code><a title="vipy.dataset.Dataset.tojsondir" href="../dataset.html#vipy.dataset.Dataset.tojsondir">tojsondir</a></code></li>
<li><code><a title="vipy.dataset.Dataset.tolist" href="../dataset.html#vipy.dataset.Dataset.tolist">tolist</a></code></li>
<li><code><a title="vipy.dataset.Dataset.video_duration_in_seconds" href="../dataset.html#vipy.dataset.Dataset.video_duration_in_seconds">video_duration_in_seconds</a></code></li>
<li><code><a title="vipy.dataset.Dataset.video_montage" href="../dataset.html#vipy.dataset.Dataset.video_montage">video_montage</a></code></li>
<li><code><a title="vipy.dataset.Dataset.zip" href="../dataset.html#vipy.dataset.Dataset.zip">zip</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="VIPY" href="https://github.com/visym/vipy/">
<img src="https://www.visym.com/labs/images/visym_logo_black_notext.png" alt="" width="60">
</a>
<h1 style="font-size:200%;"><b>VIPY:</b> Visual Dataset Transformation</h1>
</header>
<form>
<input id="lunr-search" name="q" placeholder="🔎 Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '././doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="vipy.data" href="index.html">vipy.data</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="vipy.data.imagenet.Imagenet2012" href="#vipy.data.imagenet.Imagenet2012">Imagenet2012</a></code></h4>
<ul class="">
<li><code><a title="vipy.data.imagenet.Imagenet2012.classification_trainset" href="#vipy.data.imagenet.Imagenet2012.classification_trainset">classification_trainset</a></code></li>
<li><code><a title="vipy.data.imagenet.Imagenet2012.classification_valset" href="#vipy.data.imagenet.Imagenet2012.classification_valset">classification_valset</a></code></li>
<li><code><a title="vipy.data.imagenet.Imagenet2012.localization_trainset" href="#vipy.data.imagenet.Imagenet2012.localization_trainset">localization_trainset</a></code></li>
<li><code><a title="vipy.data.imagenet.Imagenet2012.synset_to_category" href="#vipy.data.imagenet.Imagenet2012.synset_to_category">synset_to_category</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="vipy.data.imagenet.Imagenet21K" href="#vipy.data.imagenet.Imagenet21K">Imagenet21K</a></code></h4>
<ul class="">
<li><code><a title="vipy.data.imagenet.Imagenet21K.synset_to_category" href="#vipy.data.imagenet.Imagenet21K.synset_to_category">synset_to_category</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="vipy.data.imagenet.Imagenet21K_Resized" href="#vipy.data.imagenet.Imagenet21K_Resized">Imagenet21K_Resized</a></code></h4>
<ul class="">
<li><code><a title="vipy.data.imagenet.Imagenet21K_Resized.synset_to_category" href="#vipy.data.imagenet.Imagenet21K_Resized.synset_to_category">synset_to_category</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>